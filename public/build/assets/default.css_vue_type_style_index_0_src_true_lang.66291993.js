import{o as V,e as G,f as P,J as Re,m as Ue,n as I,F as de,i as fe,r as U,a0 as Je,g as fa,t as je,a as R,a1 as X,Q as pe,d as F,j as h,l as Y,C as Se,y as Qe}from"./app.150167c1.js";function _(e){return[null,void 0].indexOf(e)!==-1}function pa(e,i,l){const{object:o,valueProp:n,mode:b}=X(e),t=pe().proxy,f=l.iv,k=S=>{f.value=c(S);const T=d(S);i.emit("change",T,t),i.emit("input",T),i.emit("update:modelValue",T)},d=S=>o.value||_(S)?S:Array.isArray(S)?S.map(T=>T[n.value]):S[n.value],c=S=>_(S)?b.value==="single"?{}:[]:S;return{update:k}}function ha(e,i){const{value:l,modelValue:o,mode:n,valueProp:b}=X(e),t=F(n.value!=="single"?[]:{}),f=o&&o.value!==void 0?o:l,k=h(()=>n.value==="single"?t.value[b.value]:t.value.map(c=>c[b.value])),d=h(()=>n.value!=="single"?t.value.map(c=>c[b.value]).join(","):t.value[b.value]);return{iv:t,internalValue:t,ev:f,externalValue:f,textValue:d,plainValue:k}}function ga(e,i,l){const{regex:o}=X(e),n=pe().proxy,b=l.isOpen,t=l.open,f=F(null),k=F(null),d=()=>{f.value=""},c=w=>{f.value=w.target.value},S=w=>{if(o&&o.value){let q=o.value;typeof q=="string"&&(q=new RegExp(q)),w.key.match(q)||w.preventDefault()}},T=w=>{if(o&&o.value){let M=(w.clipboardData||window.clipboardData).getData("Text"),v=o.value;typeof v=="string"&&(v=new RegExp(v)),M.split("").every(C=>!!C.match(v))||w.preventDefault()}i.emit("paste",w,n)};return Y(f,w=>{!b.value&&w&&t(),i.emit("search-change",w,n)}),{search:f,input:k,clearSearch:d,handleSearchInput:c,handleKeypress:S,handlePaste:T}}function ba(e,i,l){const{groupSelect:o,mode:n,groups:b,disabledProp:t}=X(e),f=F(null),k=c=>{c===void 0||c!==null&&c[t.value]||b.value&&c&&c.group&&(n.value==="single"||!o.value)||(f.value=c)};return{pointer:f,setPointer:k,clearPointer:()=>{k(null)}}}function Oe(e,i=!0){return i?String(e).toLowerCase().trim():String(e).normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().trim()}function ma(e){return Object.prototype.toString.call(e)==="[object Object]"}function ya(e,i){const l=i.slice().sort();return e.length===i.length&&e.slice().sort().every(function(o,n){return o===l[n]})}function Oa(e,i,l){const{options:o,mode:n,trackBy:b,limit:t,hideSelected:f,createTag:k,createOption:d,label:c,appendNewTag:S,appendNewOption:T,multipleLabel:w,object:q,loading:M,delay:v,resolveOnLoad:C,minChars:r,filterResults:E,clearOnSearch:m,clearOnSelect:g,valueProp:p,canDeselect:H,max:K,strict:Z,closeOnSelect:$,groups:ee,reverse:J,infinite:re,groupOptions:N,groupHideEmpty:he,groupSelect:ge,onCreate:D,disabledProp:B,searchStart:W}=X(e),z=pe().proxy,O=l.iv,ae=l.ev,A=l.search,ie=l.clearSearch,u=l.update,L=l.pointer,Q=l.clearPointer,Le=l.focus,Ye=l.deactivate,ke=l.close,we=F([]),le=F([]),x=F(!1),Pe=F(null),Te=F(re.value&&t.value===-1?10:t.value),Ve=h(()=>k.value||d.value||!1),Ze=h(()=>S.value!==void 0?S.value:T.value!==void 0?T.value:!0),ue=h(()=>{if(ee.value){let a=le.value||[],s=[];return a.forEach(y=>{Me(y[N.value]).forEach(j=>{s.push(Object.assign({},j,y[B.value]?{[B.value]:!0}:{}))})}),s}else{let a=Me(le.value||[]);return we.value.length&&(a=a.concat(we.value)),a}}),Ge=h(()=>ee.value?da((le.value||[]).map((a,s)=>{const y=Me(a[N.value]);return{...a,index:s,group:!0,[N.value]:Be(y,!1).map(j=>Object.assign({},j,a[B.value]?{[B.value]:!0}:{})),__VISIBLE__:Be(y).map(j=>Object.assign({},j,a[B.value]?{[B.value]:!0}:{}))}})):[]),He=h(()=>{let a=ue.value;return J.value&&(a=a.reverse()),Ie.value.length&&(a=Ie.value.concat(a)),Be(a)}),ve=h(()=>{let a=He.value;return Te.value>0&&(a=a.slice(0,Te.value)),a}),qe=h(()=>{switch(n.value){case"single":return!_(O.value[p.value]);case"multiple":case"tags":return!_(O.value)&&O.value.length>0}}),$e=h(()=>w!==void 0&&w.value!==void 0?w.value(O.value,z):O.value&&O.value.length>1?`${O.value.length} options selected`:"1 option selected"),xe=h(()=>!ue.value.length&&!x.value&&!Ie.value.length),_e=h(()=>ue.value.length>0&&ve.value.length==0&&(A.value&&ee.value||!ee.value)),Ie=h(()=>Ve.value===!1||!A.value?[]:ia(A.value)!==-1?[]:[{[p.value]:A.value,[c.value]:A.value,[te.value]:A.value,__CREATE__:!0}]),te=h(()=>b.value||c.value),ea=h(()=>{switch(n.value){case"single":return null;case"multiple":case"tags":return[]}}),aa=h(()=>M.value||x.value),oe=a=>{switch(typeof a!="object"&&(a=ne(a)),n.value){case"single":u(a);break;case"multiple":case"tags":u(O.value.concat(a));break}i.emit("select",Ke(a),a,z)},ce=a=>{switch(typeof a!="object"&&(a=ne(a)),n.value){case"single":Fe();break;case"tags":case"multiple":u(Array.isArray(a)?O.value.filter(s=>a.map(y=>y[p.value]).indexOf(s[p.value])===-1):O.value.filter(s=>s[p.value]!=a[p.value]));break}i.emit("deselect",Ke(a),a,z)},Ke=a=>q.value?a:a[p.value],Ne=a=>{ce(a)},la=(a,s)=>{if(s.button!==0){s.preventDefault();return}Ne(a)},Fe=()=>{i.emit("clear",z),u(ea.value)},se=a=>{if(a.group!==void 0)return n.value==="single"?!1:ra(a[N.value])&&a[N.value].length;switch(n.value){case"single":return!_(O.value)&&O.value[p.value]==a[p.value];case"tags":case"multiple":return!_(O.value)&&O.value.map(s=>s[p.value]).indexOf(a[p.value])!==-1}},Ee=a=>a[B.value]===!0,Ce=()=>K===void 0||K.value===-1||!qe.value&&K.value>0?!1:O.value.length>=K.value,ta=a=>{if(!Ee(a)){if(D&&D.value&&!se(a)&&a.__CREATE__&&(a={...a},delete a.__CREATE__,a=D.value(a,z),a instanceof Promise)){x.value=!0,a.then(s=>{x.value=!1,We(s)});return}We(a)}},We=a=>{switch(a.__CREATE__&&(a={...a},delete a.__CREATE__),n.value){case"single":if(a&&se(a)){H.value&&ce(a);return}a&&De(a),g.value&&ie(),$.value&&(Q(),ke()),a&&oe(a);break;case"multiple":if(a&&se(a)){ce(a);return}if(Ce())return;a&&(De(a),oe(a)),g.value&&ie(),f.value&&Q(),$.value&&ke();break;case"tags":if(a&&se(a)){ce(a);return}if(Ce())return;a&&De(a),g.value&&ie(),a&&oe(a),f.value&&Q(),$.value&&ke();break}$.value||Le()},na=a=>{if(!(Ee(a)||n.value==="single"||!ge.value)){switch(n.value){case"multiple":case"tags":sa(a[N.value])?ce(a[N.value]):oe(a[N.value].filter(s=>O.value.map(y=>y[p.value]).indexOf(s[p.value])===-1).filter(s=>!s[B.value]).filter((s,y)=>O.value.length+1+y<=K.value||K.value===-1));break}$.value&&Ye()}},De=a=>{ne(a[p.value])===void 0&&Ve.value&&(i.emit("tag",a[p.value],z),i.emit("option",a[p.value],z),Ze.value&&ca(a),ie())},ua=()=>{n.value!=="single"&&oe(ve.value)},sa=a=>a.find(s=>!se(s)&&!s[B.value])===void 0,ra=a=>a.find(s=>!se(s))===void 0,ne=a=>ue.value[ue.value.map(s=>String(s[p.value])).indexOf(String(a))],ia=(a,s=!0)=>ue.value.map(y=>parseInt(y[te.value])==y[te.value]?parseInt(y[te.value]):y[te.value]).indexOf(parseInt(a)==a?parseInt(a):a),oa=a=>["tags","multiple"].indexOf(n.value)!==-1&&f.value&&se(a),ca=a=>{we.value.push(a)},da=a=>he.value?a.filter(s=>A.value?s.__VISIBLE__.length:s[N.value].length):a.filter(s=>A.value?s.__VISIBLE__.length:!0),Be=(a,s=!0)=>{let y=a;return A.value&&E.value&&(y=y.filter(j=>W.value?Oe(j[te.value],Z.value).startsWith(Oe(A.value,Z.value)):Oe(j[te.value],Z.value).indexOf(Oe(A.value,Z.value))!==-1)),f.value&&s&&(y=y.filter(j=>!oa(j))),y},Me=a=>{let s=a;return ma(s)&&(s=Object.keys(s).map(y=>{let j=s[y];return{[p.value]:y,[te.value]:j,[c.value]:j}})),s=s.map(y=>typeof y=="object"?y:{[p.value]:y,[te.value]:y,[c.value]:y}),s},be=()=>{_(ae.value)||(O.value=ye(ae.value))},me=a=>(x.value=!0,new Promise((s,y)=>{o.value(A.value,z).then(j=>{le.value=j||[],typeof a=="function"&&a(j),x.value=!1}).catch(j=>{console.error(j),le.value=[],x.value=!1}).finally(()=>{s()})})),Ae=()=>{if(!!qe.value)if(n.value==="single"){let a=ne(O.value[p.value]);if(a!==void 0){let s=a[c.value];O.value[c.value]=s,q.value&&(ae.value[c.value]=s)}}else O.value.forEach((a,s)=>{let y=ne(O.value[s][p.value]);if(y!==void 0){let j=y[c.value];O.value[s][c.value]=j,q.value&&(ae.value[s][c.value]=j)}})},va=a=>{me(a)},ye=a=>_(a)?n.value==="single"?{}:[]:q.value?a:n.value==="single"?ne(a)||{}:a.filter(s=>!!ne(s)).map(s=>ne(s)),ze=()=>{Pe.value=Y(A,a=>{a.length<r.value||!a&&r.value!==0||(x.value=!0,m.value&&(le.value=[]),setTimeout(()=>{a==A.value&&o.value(A.value,z).then(s=>{(a==A.value||!A.value)&&(le.value=s,L.value=ve.value.filter(y=>y[B.value]!==!0)[0]||null,x.value=!1)}).catch(s=>{console.error(s)})},v.value))},{flush:"sync"})};if(n.value!=="single"&&!_(ae.value)&&!Array.isArray(ae.value))throw new Error(`v-model must be an array when using "${n.value}" mode`);return o&&typeof o.value=="function"?C.value?me(be):q.value==!0&&be():(le.value=o.value,be()),v.value>-1&&ze(),Y(v,(a,s)=>{Pe.value&&Pe.value(),a>=0&&ze()}),Y(ae,a=>{if(_(a)){O.value=ye(a);return}switch(n.value){case"single":(q.value?a[p.value]!=O.value[p.value]:a!=O.value[p.value])&&(O.value=ye(a));break;case"multiple":case"tags":ya(q.value?a.map(s=>s[p.value]):a,O.value.map(s=>s[p.value]))||(O.value=ye(a));break}},{deep:!0}),Y(o,(a,s)=>{typeof e.options=="function"?C.value&&(!s||a&&a.toString()!==s.toString())&&me():(le.value=e.options,Object.keys(O.value).length||be(),Ae())}),Y(c,Ae),{pfo:He,fo:ve,filteredOptions:ve,hasSelected:qe,multipleLabelText:$e,eo:ue,extendedOptions:ue,fg:Ge,filteredGroups:Ge,noOptions:xe,noResults:_e,resolving:x,busy:aa,offset:Te,select:oe,deselect:ce,remove:Ne,selectAll:ua,clear:Fe,isSelected:se,isDisabled:Ee,isMax:Ce,getOption:ne,handleOptionClick:ta,handleGroupClick:na,handleTagRemove:la,refreshOptions:va,resolveOptions:me,refreshLabels:Ae}}function Sa(e,i,l){const{valueProp:o,showOptions:n,searchable:b,groupLabel:t,groups:f,mode:k,groupSelect:d,disabledProp:c}=X(e),S=l.fo,T=l.fg,w=l.handleOptionClick,q=l.handleGroupClick,M=l.search,v=l.pointer,C=l.setPointer,r=l.clearPointer,E=l.multiselect,m=l.isOpen,g=h(()=>S.value.filter(u=>!u[c.value])),p=h(()=>T.value.filter(u=>!u[c.value])),H=h(()=>k.value!=="single"&&d.value),K=h(()=>v.value&&v.value.group),Z=h(()=>A(v.value)),$=h(()=>{const u=K.value?v.value:A(v.value),L=p.value.map(Le=>Le[t.value]).indexOf(u[t.value]);let Q=p.value[L-1];return Q===void 0&&(Q=J.value),Q}),ee=h(()=>{let u=p.value.map(L=>L.label).indexOf(K.value?v.value[t.value]:A(v.value)[t.value])+1;return p.value.length<=u&&(u=0),p.value[u]}),J=h(()=>[...p.value].slice(-1)[0]),re=h(()=>v.value.__VISIBLE__.filter(u=>!u[c.value])[0]),N=h(()=>{const u=Z.value.__VISIBLE__.filter(L=>!L[c.value]);return u[u.map(L=>L[o.value]).indexOf(v.value[o.value])-1]}),he=h(()=>{const u=A(v.value).__VISIBLE__.filter(L=>!L[c.value]);return u[u.map(L=>L[o.value]).indexOf(v.value[o.value])+1]}),ge=h(()=>[...$.value.__VISIBLE__.filter(u=>!u[c.value])].slice(-1)[0]),D=h(()=>[...J.value.__VISIBLE__.filter(u=>!u[c.value])].slice(-1)[0]),B=u=>!!v.value&&(!u.group&&v.value[o.value]==u[o.value]||u.group!==void 0&&v.value[t.value]==u[t.value])?!0:void 0,W=()=>{C(g.value[0]||null)},z=()=>{!v.value||v.value[c.value]===!0||(K.value?q(v.value):w(v.value))},O=()=>{if(v.value===null)C((f.value&&H.value?p.value[0]:g.value[0])||null);else if(f.value&&H.value){let u=K.value?re.value:he.value;u===void 0&&(u=ee.value),C(u||null)}else{let u=g.value.map(L=>L[o.value]).indexOf(v.value[o.value])+1;g.value.length<=u&&(u=0),C(g.value[u]||null)}Se(()=>{ie()})},ae=()=>{if(v.value===null){let u=g.value[g.value.length-1];f.value&&H.value&&(u=D.value,u===void 0&&(u=J.value)),C(u||null)}else if(f.value&&H.value){let u=K.value?ge.value:N.value;u===void 0&&(u=K.value?$.value:Z.value),C(u||null)}else{let u=g.value.map(L=>L[o.value]).indexOf(v.value[o.value])-1;u<0&&(u=g.value.length-1),C(g.value[u]||null)}Se(()=>{ie()})},A=u=>p.value.find(L=>L.__VISIBLE__.map(Q=>Q[o.value]).indexOf(u[o.value])!==-1),ie=()=>{let u=E.value.querySelector("[data-pointed]");if(!u)return;let L=u.parentElement.parentElement;f.value&&(L=K.value?u.parentElement.parentElement.parentElement:u.parentElement.parentElement.parentElement.parentElement),u.offsetTop+u.offsetHeight>L.clientHeight+L.scrollTop&&(L.scrollTop=u.offsetTop+u.offsetHeight-L.clientHeight),u.offsetTop<L.scrollTop&&(L.scrollTop=u.offsetTop)};return Y(M,u=>{b.value&&(u.length&&n.value?W():r())}),Y(m,u=>{if(u){let L=E.value.querySelectorAll("[data-selected]")[0];if(!L)return;let Q=L.parentElement.parentElement;Se(()=>{Q.scrollTop>0||(Q.scrollTop=L.offsetTop)})}}),{pointer:v,canPointGroups:H,isPointed:B,setPointerFirst:W,selectPointer:z,forwardPointer:O,backwardPointer:ae}}function La(e,i,l){const{disabled:o}=X(e),n=pe().proxy,b=F(!1);return{isOpen:b,open:()=>{b.value||o.value||(b.value=!0,i.emit("open",n))},close:()=>{!b.value||(b.value=!1,i.emit("close",n))}}}function ka(e,i,l){const{searchable:o,disabled:n}=X(e),b=l.input,t=l.open,f=l.close,k=l.clearSearch,d=l.isOpen,c=F(null),S=F(null),T=F(!1),w=F(!1),q=h(()=>o.value||n.value?-1:0),M=()=>{o.value&&b.value.blur(),c.value.blur()},v=()=>{o.value&&!n.value&&b.value.focus()},C=(H=!0)=>{n.value||(T.value=!0,H&&t())},r=()=>{T.value=!1,setTimeout(()=>{T.value||(f(),k())},1)};return{multiselect:c,tags:S,tabindex:q,isActive:T,mouseClicked:w,blur:M,focus:v,activate:C,deactivate:r,handleFocusIn:()=>{C(w.value)},handleFocusOut:()=>{r()},handleCaretClick:()=>{r(),M()},handleMousedown:H=>{w.value=!0,d.value&&(H.target.isEqualNode(c.value)||H.target.isEqualNode(S.value))?setTimeout(()=>{r()},0):document.activeElement.isEqualNode(c.value)&&!d.value&&C(),setTimeout(()=>{w.value=!1},0)}}}function wa(e,i,l){const{mode:o,addTagOn:n,openDirection:b,searchable:t,showOptions:f,valueProp:k,groups:d,addOptionOn:c,createTag:S,createOption:T,reverse:w}=X(e),q=pe().proxy,M=l.iv,v=l.update,C=l.search,r=l.setPointer,E=l.selectPointer,m=l.backwardPointer,g=l.forwardPointer,p=l.multiselect,H=l.tags,K=l.isOpen,Z=l.open,$=l.blur,ee=l.fo,J=h(()=>S.value||T.value||!1),re=h(()=>n.value!==void 0?n.value:c.value!==void 0?c.value:["enter"]),N=()=>{o.value==="tags"&&!f.value&&J.value&&t.value&&!d.value&&r(ee.value[ee.value.map(D=>D[k.value]).indexOf(C.value)])};return{handleKeydown:D=>{i.emit("keydown",D,q);let B,W;switch(["ArrowLeft","ArrowRight","Enter"].indexOf(D.key)!==-1&&o.value==="tags"&&(B=[...p.value.querySelectorAll("[data-tags] > *")].filter(z=>z!==H.value),W=B.findIndex(z=>z===document.activeElement)),D.key){case"Backspace":if(o.value==="single"||t.value&&[null,""].indexOf(C.value)===-1||M.value.length===0)return;v([...M.value].slice(0,-1));break;case"Enter":if(D.preventDefault(),W!==-1&&W!==void 0){v([...M.value].filter((z,O)=>O!==W)),W===B.length-1&&(B.length-1?B[B.length-2].focus():t.value?H.value.querySelector("input").focus():p.value.focus());return}if(re.value.indexOf("enter")===-1&&J.value)return;N(),E();break;case" ":if(!J.value&&!t.value){D.preventDefault(),N(),E();return}if(!J.value)return!1;if(re.value.indexOf("space")===-1&&J.value)return;D.preventDefault(),N(),E();break;case"Tab":case";":case",":if(re.value.indexOf(D.key.toLowerCase())===-1||!J.value)return;N(),E(),D.preventDefault();break;case"Escape":$();break;case"ArrowUp":if(D.preventDefault(),!f.value)return;K.value||Z(),m();break;case"ArrowDown":if(D.preventDefault(),!f.value)return;K.value||Z(),g();break;case"ArrowLeft":if(t.value&&H.value.querySelector("input").selectionStart||D.shiftKey||o.value!=="tags"||!M.value||!M.value.length)return;D.preventDefault(),W===-1?B[B.length-1].focus():W>0&&B[W-1].focus();break;case"ArrowRight":if(W===-1||D.shiftKey||o.value!=="tags"||!M.value||!M.value.length)return;D.preventDefault(),B.length>W+1?B[W+1].focus():t.value?H.value.querySelector("input").focus():t.value||p.value.focus();break}},handleKeyup:D=>{i.emit("keyup",D,q)},preparePointer:N}}function Pa(e,i,l){const{classes:o,disabled:n,openDirection:b,showOptions:t}=X(e),f=l.isOpen,k=l.isPointed,d=l.isSelected,c=l.isDisabled,S=l.isActive,T=l.canPointGroups,w=l.resolving,q=l.fo,M=h(()=>({container:"multiselect",containerDisabled:"is-disabled",containerOpen:"is-open",containerOpenTop:"is-open-top",containerActive:"is-active",singleLabel:"multiselect-single-label",singleLabelText:"multiselect-single-label-text",multipleLabel:"multiselect-multiple-label",search:"multiselect-search",tags:"multiselect-tags",tag:"multiselect-tag",tagDisabled:"is-disabled",tagRemove:"multiselect-tag-remove",tagRemoveIcon:"multiselect-tag-remove-icon",tagsSearchWrapper:"multiselect-tags-search-wrapper",tagsSearch:"multiselect-tags-search",tagsSearchCopy:"multiselect-tags-search-copy",placeholder:"multiselect-placeholder",caret:"multiselect-caret",caretOpen:"is-open",clear:"multiselect-clear",clearIcon:"multiselect-clear-icon",spinner:"multiselect-spinner",inifinite:"multiselect-inifite",inifiniteSpinner:"multiselect-inifite-spinner",dropdown:"multiselect-dropdown",dropdownTop:"is-top",dropdownHidden:"is-hidden",options:"multiselect-options",optionsTop:"is-top",group:"multiselect-group",groupLabel:"multiselect-group-label",groupLabelPointable:"is-pointable",groupLabelPointed:"is-pointed",groupLabelSelected:"is-selected",groupLabelDisabled:"is-disabled",groupLabelSelectedPointed:"is-selected is-pointed",groupLabelSelectedDisabled:"is-selected is-disabled",groupOptions:"multiselect-group-options",option:"multiselect-option",optionPointed:"is-pointed",optionSelected:"is-selected",optionDisabled:"is-disabled",optionSelectedPointed:"is-selected is-pointed",optionSelectedDisabled:"is-selected is-disabled",noOptions:"multiselect-no-options",noResults:"multiselect-no-results",fakeInput:"multiselect-fake-input",spacer:"multiselect-spacer",...o.value})),v=h(()=>!!(f.value&&t.value&&(!w.value||w.value&&q.value.length)));return{classList:h(()=>{const r=M.value;return{container:[r.container].concat(n.value?r.containerDisabled:[]).concat(v.value&&b.value==="top"?r.containerOpenTop:[]).concat(v.value&&b.value!=="top"?r.containerOpen:[]).concat(S.value?r.containerActive:[]),spacer:r.spacer,singleLabel:r.singleLabel,singleLabelText:r.singleLabelText,multipleLabel:r.multipleLabel,search:r.search,tags:r.tags,tag:[r.tag].concat(n.value?r.tagDisabled:[]),tagRemove:r.tagRemove,tagRemoveIcon:r.tagRemoveIcon,tagsSearchWrapper:r.tagsSearchWrapper,tagsSearch:r.tagsSearch,tagsSearchCopy:r.tagsSearchCopy,placeholder:r.placeholder,caret:[r.caret].concat(f.value?r.caretOpen:[]),clear:r.clear,clearIcon:r.clearIcon,spinner:r.spinner,inifinite:r.inifinite,inifiniteSpinner:r.inifiniteSpinner,dropdown:[r.dropdown].concat(b.value==="top"?r.dropdownTop:[]).concat(!f.value||!t.value||!v.value?r.dropdownHidden:[]),options:[r.options].concat(b.value==="top"?r.optionsTop:[]),group:r.group,groupLabel:E=>{let m=[r.groupLabel];return k(E)?m.push(d(E)?r.groupLabelSelectedPointed:r.groupLabelPointed):d(E)&&T.value?m.push(c(E)?r.groupLabelSelectedDisabled:r.groupLabelSelected):c(E)&&m.push(r.groupLabelDisabled),T.value&&m.push(r.groupLabelPointable),m},groupOptions:r.groupOptions,option:(E,m)=>{let g=[r.option];return k(E)?g.push(d(E)?r.optionSelectedPointed:r.optionPointed):d(E)?g.push(c(E)?r.optionSelectedDisabled:r.optionSelected):(c(E)||m&&c(m))&&g.push(r.optionDisabled),g},noOptions:r.noOptions,noResults:r.noResults,fakeInput:r.fakeInput}}),showDropdown:v}}function Ta(e,i,l){const{limit:o,infinite:n}=X(e),b=l.isOpen,t=l.offset,f=l.search,k=l.pfo,d=l.eo,c=F(null),S=F(null),T=h(()=>t.value<k.value.length),w=M=>{const{isIntersecting:v,target:C}=M[0];if(v){const r=C.offsetParent,E=r.scrollTop;t.value+=o.value==-1?10:o.value,Se(()=>{r.scrollTop=E})}},q=()=>{b.value&&t.value<k.value.length?c.value.observe(S.value):!b.value&&c.value&&c.value.disconnect()};return Y(b,()=>{!n.value||q()}),Y(f,()=>{!n.value||(t.value=o.value,q())},{flush:"post"}),Y(d,()=>{!n.value||q()},{immediate:!1,flush:"post"}),Qe(()=>{window&&window.IntersectionObserver&&(c.value=new IntersectionObserver(w))}),{hasMore:T,infiniteLoader:S}}function qa(e,i,l){const{placeholder:o,id:n,valueProp:b,label:t,mode:f,groupLabel:k}=X(e),d=l.pointer;l.iv,l.hasSelected,l.multipleLabelText,l.isOpen;const c=F(null),S=h(()=>{let m=[];return n&&n.value&&m.push(n.value),m.push("multiselect-options"),m.join("-")}),T=h(()=>{let m=[];if(n&&n.value&&m.push(n.value),d.value)return m.push(d.value.group?"multiselect-group":"multiselect-option"),m.push(d.value.group?d.value.index:d.value[b.value]),m.join("-")}),w=h(()=>o.value),q=h(()=>f.value!=="single"),M=m=>{let g=[];return n&&n.value&&g.push(n.value),g.push("multiselect-option"),g.push(m[b.value]),g.join("-")},v=m=>{let g=[];return n&&n.value&&g.push(n.value),g.push("multiselect-group"),g.push(m.index),g.join("-")},C=m=>{let g=[];return g.push(m[t.value]),g.join(" ")},r=m=>{let g=[];return g.push(m[k.value]),g.join(" ")},E=m=>`${m} \u274E`;return Qe(()=>{if(n&&n.value&&document&&document.querySelector){let m=document.querySelector(`[for="${n.value}"]`);c.value=m?m.innerText:null}}),{ariaOwns:S,ariaPlaceholder:w,ariaMultiselectable:q,ariaActiveDescendant:T,ariaOptionId:M,ariaOptionLabel:C,ariaGroupId:v,ariaGroupLabel:r,ariaTagLabel:E}}function Ia(e,i,l,o={}){return l.forEach(n=>{n&&(o={...o,...n(e,i,o)})}),o}var Xe={name:"Multiselect",emits:["paste","open","close","select","deselect","input","search-change","tag","option","update:modelValue","change","clear","keydown","keyup"],props:{value:{required:!1},modelValue:{required:!1},options:{type:[Array,Object,Function],required:!1,default:()=>[]},id:{type:[String,Number],required:!1},name:{type:[String,Number],required:!1,default:"multiselect"},disabled:{type:Boolean,required:!1,default:!1},label:{type:String,required:!1,default:"label"},trackBy:{type:String,required:!1,default:void 0},valueProp:{type:String,required:!1,default:"value"},placeholder:{type:String,required:!1,default:null},mode:{type:String,required:!1,default:"single"},searchable:{type:Boolean,required:!1,default:!1},limit:{type:Number,required:!1,default:-1},hideSelected:{type:Boolean,required:!1,default:!0},createTag:{type:Boolean,required:!1,default:void 0},createOption:{type:Boolean,required:!1,default:void 0},appendNewTag:{type:Boolean,required:!1,default:void 0},appendNewOption:{type:Boolean,required:!1,default:void 0},addTagOn:{type:Array,required:!1,default:void 0},addOptionOn:{type:Array,required:!1,default:void 0},caret:{type:Boolean,required:!1,default:!0},loading:{type:Boolean,required:!1,default:!1},noOptionsText:{type:String,required:!1,default:"The list is empty"},noResultsText:{type:String,required:!1,default:"No results found"},multipleLabel:{type:Function,required:!1},object:{type:Boolean,required:!1,default:!1},delay:{type:Number,required:!1,default:-1},minChars:{type:Number,required:!1,default:0},resolveOnLoad:{type:Boolean,required:!1,default:!0},filterResults:{type:Boolean,required:!1,default:!0},clearOnSearch:{type:Boolean,required:!1,default:!1},clearOnSelect:{type:Boolean,required:!1,default:!0},canDeselect:{type:Boolean,required:!1,default:!0},canClear:{type:Boolean,required:!1,default:!0},max:{type:Number,required:!1,default:-1},showOptions:{type:Boolean,required:!1,default:!0},required:{type:Boolean,required:!1,default:!1},openDirection:{type:String,required:!1,default:"bottom"},nativeSupport:{type:Boolean,required:!1,default:!1},classes:{type:Object,required:!1,default:()=>({})},strict:{type:Boolean,required:!1,default:!0},closeOnSelect:{type:Boolean,required:!1,default:!0},autocomplete:{type:String,required:!1},groups:{type:Boolean,required:!1,default:!1},groupLabel:{type:String,required:!1,default:"label"},groupOptions:{type:String,required:!1,default:"options"},groupHideEmpty:{type:Boolean,required:!1,default:!1},groupSelect:{type:Boolean,required:!1,default:!0},inputType:{type:String,required:!1,default:"text"},attrs:{required:!1,type:Object,default:()=>({})},onCreate:{required:!1,type:Function},disabledProp:{type:String,required:!1,default:"disabled"},searchStart:{type:Boolean,required:!1,default:!1},reverse:{type:Boolean,required:!1,default:!1},regex:{type:[Object,String,RegExp],required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:!1},infinite:{type:Boolean,required:!1,default:!1},aria:{required:!1,type:Object,default:()=>({})}},setup(e,i){return Ia(e,i,[ha,ba,La,ga,pa,ka,Oa,Ta,Sa,wa,Pa,qa])}};const Ea=["tabindex","id","dir","aria-owns","aria-placeholder","aria-expanded","aria-activedescendant","aria-multiselectable","role"],Ca=["type","modelValue","value","autocomplete","id","aria-owns","aria-placeholder","aria-expanded","aria-activedescendant","aria-multiselectable"],Da=["onKeyup","aria-label"],Ba=["onClick"],Ma=["type","modelValue","value","id","autocomplete","aria-owns","aria-placeholder","aria-expanded","aria-activedescendant","aria-multiselectable"],Aa=["innerHTML"],Ra=["innerHTML"],ja=["id"],Va=["id","aria-label","aria-selected"],Ga=["data-pointed","onMouseenter","onClick"],Ha=["innerHTML"],Ka=["aria-label"],Na=["data-pointed","data-selected","onMouseenter","onClick","id","aria-selected","aria-label"],Fa=["innerHTML"],Wa=["data-pointed","data-selected","onMouseenter","onClick","id","aria-selected","aria-label"],za=["innerHTML"],Ua=["innerHTML"],Ja=["innerHTML"],Qa=["value"],Xa=["name","value"],Ya=["name","value"];function Za(e,i,l,o,n,b){return V(),G("div",Re({ref:"multiselect",tabindex:e.tabindex,class:e.classList.container,id:l.searchable?void 0:l.id,dir:l.rtl?"rtl":void 0,onFocusin:i[9]||(i[9]=(...t)=>e.handleFocusIn&&e.handleFocusIn(...t)),onFocusout:i[10]||(i[10]=(...t)=>e.handleFocusOut&&e.handleFocusOut(...t)),onKeydown:i[11]||(i[11]=(...t)=>e.handleKeydown&&e.handleKeydown(...t)),onKeyup:i[12]||(i[12]=(...t)=>e.handleKeyup&&e.handleKeyup(...t)),onMousedown:i[13]||(i[13]=(...t)=>e.handleMousedown&&e.handleMousedown(...t)),"aria-owns":l.searchable?void 0:e.ariaOwns,"aria-placeholder":l.searchable?void 0:e.ariaPlaceholder,"aria-expanded":l.searchable?void 0:e.isOpen,"aria-activedescendant":l.searchable?void 0:e.ariaActiveDescendant,"aria-multiselectable":l.searchable?void 0:e.ariaMultiselectable,role:l.searchable?void 0:"listbox"},l.searchable?{}:l.aria),[P(" Search "),l.mode!=="tags"&&l.searchable&&!l.disabled?(V(),G("input",Re({key:0,type:l.inputType,modelValue:e.search,value:e.search,class:e.classList.search,autocomplete:l.autocomplete,id:l.searchable?l.id:void 0,onInput:i[0]||(i[0]=(...t)=>e.handleSearchInput&&e.handleSearchInput(...t)),onKeypress:i[1]||(i[1]=(...t)=>e.handleKeypress&&e.handleKeypress(...t)),onPaste:i[2]||(i[2]=Ue((...t)=>e.handlePaste&&e.handlePaste(...t),["stop"])),ref:"input","aria-owns":e.ariaOwns,"aria-placeholder":e.ariaPlaceholder,"aria-expanded":e.isOpen,"aria-activedescendant":e.ariaActiveDescendant,"aria-multiselectable":e.ariaMultiselectable,role:"listbox"},{...l.attrs,...l.aria}),null,16,Ca)):P("v-if",!0),P(" Tags (with search) "),l.mode=="tags"?(V(),G("div",{key:1,class:I(e.classList.tags),"data-tags":""},[(V(!0),G(de,null,fe(e.iv,(t,f,k)=>U(e.$slots,"tag",{option:t,handleTagRemove:e.handleTagRemove,disabled:l.disabled},()=>[(V(),G("span",{class:I(e.classList.tag),tabindex:"-1",onKeyup:Je(d=>e.handleTagRemove(t,d),["enter"]),key:k,"aria-label":e.ariaTagLabel(t[l.label])},[fa(je(t[l.label])+" ",1),l.disabled?P("v-if",!0):(V(),G("span",{key:0,class:I(e.classList.tagRemove),onClick:d=>e.handleTagRemove(t,d)},[R("span",{class:I(e.classList.tagRemoveIcon)},null,2)],10,Ba))],42,Da))])),256)),R("div",{class:I(e.classList.tagsSearchWrapper),ref:"tags"},[P(" Used for measuring search width "),R("span",{class:I(e.classList.tagsSearchCopy)},je(e.search),3),P(" Actual search input "),l.searchable&&!l.disabled?(V(),G("input",Re({key:0,type:l.inputType,modelValue:e.search,value:e.search,class:e.classList.tagsSearch,id:l.searchable?l.id:void 0,autocomplete:l.autocomplete,onInput:i[3]||(i[3]=(...t)=>e.handleSearchInput&&e.handleSearchInput(...t)),onKeypress:i[4]||(i[4]=(...t)=>e.handleKeypress&&e.handleKeypress(...t)),onPaste:i[5]||(i[5]=Ue((...t)=>e.handlePaste&&e.handlePaste(...t),["stop"])),ref:"input","aria-owns":e.ariaOwns,"aria-placeholder":e.ariaPlaceholder,"aria-expanded":e.isOpen,"aria-activedescendant":e.ariaActiveDescendant,"aria-multiselectable":e.ariaMultiselectable,role:"listbox"},{...l.attrs,...l.aria}),null,16,Ma)):P("v-if",!0)],2)],2)):P("v-if",!0),P(" Single label "),l.mode=="single"&&e.hasSelected&&!e.search&&e.iv?U(e.$slots,"singlelabel",{key:2,value:e.iv},()=>[R("div",{class:I(e.classList.singleLabel),"aria-hidden":"true"},[R("span",{class:I(e.classList.singleLabelText),innerHTML:e.iv[l.label]},null,10,Aa)],2)]):P("v-if",!0),P(" Multiple label "),l.mode=="multiple"&&e.hasSelected&&!e.search?U(e.$slots,"multiplelabel",{key:3,values:e.iv},()=>[R("div",{class:I(e.classList.multipleLabel),innerHTML:e.multipleLabelText,"aria-hidden":"true"},null,10,Ra)]):P("v-if",!0),P(" Placeholder "),l.placeholder&&!e.hasSelected&&!e.search?U(e.$slots,"placeholder",{key:4},()=>[R("div",{class:I(e.classList.placeholder),"aria-hidden":"true"},je(l.placeholder),3)]):P("v-if",!0),P(" Spinner "),l.loading||e.resolving?U(e.$slots,"spinner",{key:5},()=>[R("span",{class:I(e.classList.spinner),"aria-hidden":"true"},null,2)]):P("v-if",!0),P(" Clear "),e.hasSelected&&!l.disabled&&l.canClear&&!e.busy?U(e.$slots,"clear",{key:6,clear:e.clear},()=>[R("span",{tabindex:"0",role:"button","aria-label":"\u274E",class:I(e.classList.clear),onClick:i[6]||(i[6]=(...t)=>e.clear&&e.clear(...t)),onKeyup:i[7]||(i[7]=Je((...t)=>e.clear&&e.clear(...t),["enter"]))},[R("span",{class:I(e.classList.clearIcon)},null,2)],34)]):P("v-if",!0),P(" Caret "),l.caret&&l.showOptions?U(e.$slots,"caret",{key:7},()=>[R("span",{class:I(e.classList.caret),onClick:i[8]||(i[8]=(...t)=>e.handleCaretClick&&e.handleCaretClick(...t)),"aria-hidden":"true"},null,2)]):P("v-if",!0),P(" Options "),R("div",{class:I(e.classList.dropdown),tabindex:"-1"},[U(e.$slots,"beforelist",{options:e.fo}),R("ul",{class:I(e.classList.options),id:e.ariaOwns},[l.groups?(V(!0),G(de,{key:0},fe(e.fg,(t,f,k)=>(V(),G("li",{class:I(e.classList.group),key:k,id:e.ariaGroupId(t),"aria-label":e.ariaGroupLabel(t),"aria-selected":e.isSelected(t),role:"option"},[R("div",{class:I(e.classList.groupLabel(t)),"data-pointed":e.isPointed(t),onMouseenter:d=>e.setPointer(t,f),onClick:d=>e.handleGroupClick(t)},[U(e.$slots,"grouplabel",{group:t,isSelected:e.isSelected,isPointed:e.isPointed},()=>[R("span",{innerHTML:t[l.groupLabel]},null,8,Ha)])],42,Ga),R("ul",{class:I(e.classList.groupOptions),"aria-label":e.ariaGroupLabel(t),role:"group"},[(V(!0),G(de,null,fe(t.__VISIBLE__,(d,c,S)=>(V(),G("li",{class:I(e.classList.option(d,t)),"data-pointed":e.isPointed(d),"data-selected":e.isSelected(d)||void 0,key:S,onMouseenter:T=>e.setPointer(d),onClick:T=>e.handleOptionClick(d),id:e.ariaOptionId(d),"aria-selected":e.isSelected(d),"aria-label":e.ariaOptionLabel(d),role:"option"},[U(e.$slots,"option",{option:d,isSelected:e.isSelected,isPointed:e.isPointed,search:e.search},()=>[R("span",{innerHTML:d[l.label]},null,8,Fa)])],42,Na))),128))],10,Ka)],10,Va))),128)):(V(!0),G(de,{key:1},fe(e.fo,(t,f,k)=>(V(),G("li",{class:I(e.classList.option(t)),"data-pointed":e.isPointed(t),"data-selected":e.isSelected(t)||void 0,key:k,onMouseenter:d=>e.setPointer(t),onClick:d=>e.handleOptionClick(t),id:e.ariaOptionId(t),"aria-selected":e.isSelected(t),"aria-label":e.ariaOptionLabel(t),role:"option"},[U(e.$slots,"option",{option:t,isSelected:e.isSelected,isPointed:e.isPointed,search:e.search},()=>[R("span",{innerHTML:t[l.label]},null,8,za)])],42,Wa))),128))],10,ja),e.noOptions?U(e.$slots,"nooptions",{key:0},()=>[R("div",{class:I(e.classList.noOptions),innerHTML:l.noOptionsText},null,10,Ua)]):P("v-if",!0),e.noResults?U(e.$slots,"noresults",{key:1},()=>[R("div",{class:I(e.classList.noResults),innerHTML:l.noResultsText},null,10,Ja)]):P("v-if",!0),l.infinite&&e.hasMore?(V(),G("div",{key:2,class:I(e.classList.inifinite),ref:"infiniteLoader"},[U(e.$slots,"infinite",{},()=>[R("span",{class:I(e.classList.inifiniteSpinner)},null,2)])],2)):P("v-if",!0),U(e.$slots,"afterlist",{options:e.fo})],2),P(" Hacky input element to show HTML5 required warning "),l.required?(V(),G("input",{key:8,class:I(e.classList.fakeInput),tabindex:"-1",value:e.textValue,required:""},null,10,Qa)):P("v-if",!0),P(" Native input support "),l.nativeSupport?(V(),G(de,{key:9},[l.mode=="single"?(V(),G("input",{key:0,type:"hidden",name:l.name,value:e.plainValue!==void 0?e.plainValue:""},null,8,Xa)):(V(!0),G(de,{key:1},fe(e.plainValue,(t,f)=>(V(),G("input",{type:"hidden",name:`${l.name}[]`,value:t,key:f},null,8,Ya))),128))],64)):P("v-if",!0),P(" Create height for empty input "),R("div",{class:I(e.classList.spacer)},null,2)],16,Ea)}Xe.render=Za;Xe.__file="src/Multiselect.vue";export{Xe as s};
